# Distributing Nine Morris 3D

## Requirements

- NSIS (packaging - Windows only)

## Linux

- Build the binaries as per `BUILD.md`
- Export the assets

```txt
cd scripts
./export_assets.py ../build_dist/ ../assets/ ../assets_engine/
```

- Build the archive

```txt
cd scripts
./create_source_archive.sh ../build_dist/ X.Y.Z ../build_dist/nine_morris_3d/nine_morris_3d ../ \
    ../build_dist/assets/icons/ ../distribution/linux/ninemorris3d.desktop ../build_dist/assets/ \
    ../build_dist/assets_engine/
```

- Create a new directory called `Nine-Morris-3D-X.Y.Z-Linux`
- Copy the archive from `build_dist/` into the directory
- Copy `README.txt` from `distribution/` into the directory
- Copy `install.sh` and `uninstall.sh` from `distribution/linux/` into the directory
- Archive the directory

```txt
tar -czf Nine-Morris-3D-X.Y.Z-Linux.tar.gz Nine-Morris-3D-X.Y.Z-Linux
```

## Windows

- Build the binaries as per `BUILD.md`
- Export the assets

```txt
cd scripts
python export_assets.py ..\build ..\assets ..\assets_engine
```

- Create a new folder called whatever
- Copy the game binary from `build\nine_morris_3d\Release` into the folder
- Copy the engine binaries from root into the folder
- Copy the assets directories from `build` into the folder
- Copy `README.txt` from `distribution` into the folder
- Copy `installer.nsi` from `distribution\windows` into the folder
- Create an NSIS installer called `Nine-Morris-3D-X.Y.Z-Windows` using the installer script

## Update the version

- main.cpp
- ninemorris3d.desktop
- installer.nsi

## Caveats

Both the scripts on Linux and the installer on Windows install the game system-wide. Any data generated by the game
(settings, saved data, logs) is not erased upon uninstallation, as it's written into the users' directories.

The server should be distributed separately.
